<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{%block title%}LGCDD{%endblock%}</title>


  <!--CSS Libs-->

  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/main.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">

  <!--Custom CSS -->

  <link href="{{ url_for('static', filename='css/main_page_styles.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/calendar_styles.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/sidebar_styles.css') }}" rel="stylesheet">

  <!-- small local CSS vars and helpers (you can merge into your CSS) -->
  <style>
    :root {
      --header-height: 64px;
      --sidebar-width: 220px;
      --footer-height: 36px;
      --gutter: 1rem;
      --page-bg: #f6f7fb;
    }

    html,
    body {
      height: 100%;
    }

    body {
      background: var(--page-bg);
    }

    /* main content area reserves space for fixed elements */
    #main-content {
      display: flex;
      flex-direction: column;
      margin-left: var(--sidebar-width);
      /*this ensures that the main content area takes up the remaining width */
      width: calc(100% - var(--sidebar-width));
      padding: calc(var(--header-height) + var(--gutter)) var(--gutter) calc(var(--footer-height) + var(--gutter));
      min-height: calc(100vh - var(--header-height) - var(--footer-height));
      box-sizing: border-box;
      /* Prevents horizontal overflow */
      overflow-x: hidden;

    }

    @media (max-width: 991.98px) {
      #main-content {
        margin-left: 0;
        width: 100%;
        padding-left: 1rem;
        padding-right: 1rem;
      }
    }
  </style>


  {%block head_extras%} {%endblock%}
</head>

<body>

  <!--Nav Bar-->
  {# NAVBAR (fixed-top) #}
  {% include 'navbar.html' %}

  <!--Sidebar-->
  {# SIDEBAR (fixed between header and footer) #}
  {% include 'sidebar.html' %}

  <!--Main Content Area-->
  {# Main content area (pages extend this) #}
  <main id="main-content" role="main" class="container-fluid">
    {% block content %} {% endblock %}
  </main>

  <!--Footer-->
  {# Footer (fixed-bottom) #}
  {% include 'footer.html' %}

  <!-- Modal Structure -->
  <div class="modal fade" id="addModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="addModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable"> <!-- Centered and scrollable modal -->
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="addModalLabel">Add Activity</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">


          <!-- Form Starts Here -->
          <!-- Ensure the form action points to the correct route -->
          <form method="POST" action="{{ url_for('main.add_activity') }}" class="row g-3">
            <!-- Title -->
            <div class="col-md-6">
              <label for="title" class="form-label">Title</label>
              <input type="text" class="form-control" id="title" name="title" required />
            </div>

            <!-- Venue -->
            <div class="col-md-6">
              <label for="venue" class="form-label">Venue</label>
              <input type="text" class="form-control" id="venue" name="venue" required />
            </div>

            <!-- Date -->
            <div class="col-md-2">
              <label for="date" class="form-label">Date</label>
              <input type="date" class="form-control" id="date" name="date" value="{{date if date else ''}}" required />
            </div>

            <!-- Time -->
            <div class="col-md-4">
              <label for="time" class="form-label">Time</label>
              <input type="time" class="form-control" id="time" name="time" required />
            </div>

            <!-- Person in Charge -->
            <div class="col-md-4">
              <label for="person_in_charge" class="form-label">Person In Charge</label>
              <input type="text" class="form-control" id="person_in_charge" name="person_in_charge" required />
            </div>

            <!-- Mode -->
            <div class="col-md-4">
              <label for="mode" class="form-label">Mode</label>
              <select id="mode" name="mode" class="form-select" required>
                <option selected disabled value="">Choose...</option>
                <option value="Online">Online</option>
                <option value="In-Person">In-Person</option>
                <option value="Hybrid">Hybrid</option>
              </select>
            </div>

            <!-- Remarks -->
            <div class="col-md-12">
              <label for="remarks" class="form-label">Remarks</label>
              <textarea class="form-control" id="remarks" name="remarks" rows="3"></textarea>
            </div>

            <!-- Requires RD -->
            <div class="col-md-12">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="on" id="requires_rd" name="requires_rd" />
                <label class="form-check-label" for="requires_rd">Requires RD</label>
              </div>
            </div>
            <!-- modal footer-->
            <div class="modal-footer">
              <button type="submit" class="btn btn-primary"> Save Activity</button>
              <a href="{{url_for('main.home')}}" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</a>
            </div>
          </form>
          <!-- End of Form -->
        </div>
      </div>
    </div>
  </div>
  <!--end of modal-->

  <!-- JS Libs -->
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
    crossorigin="anonymous"></script>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- Custom JS -->
  <!-- small layout helper: measures nav/footer/sidebar and sets CSS vars -->
  <!--<script src="{{ url_for('static', filename='js/layout.js') }}"></script>-->
  <!-- sidebar toggle script -->
  <script src="{{ url_for('static', filename='js/sidebar.js') }}"></script>
  {%block scripts%}
  {%endblock%}

</body>

</html>